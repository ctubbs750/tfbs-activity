Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                        count
-----------------------  -------
all                            1
unibind_combine_targets        1
unibind_fetch_lengths          1
unibind_fetch_targets          1
total                          4

Select jobs to execute...

[Sun Dec 24 11:33:35 2023]
Job 2: 
        Returns list of all TFs and their JASPAR profiles from UniBind
        
Reason: Code has changed since last execution

[Sun Dec 24 11:33:35 2023]
Finished job 2.
1 of 4 steps (25%) done
Select jobs to execute...

[Sun Dec 24 11:33:35 2023]
Job 6: 
        Returns list of all matrix lengths from JASPAR API
        
Reason: Missing output files: resources/data/unibind/target_lengths.txt; Input files updated by another job: resources/data/unibind/make_targets.txt

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/9e211a826b4153ae8977fb2d94caf0a0_
[Sun Dec 24 11:36:33 2023]
Error in rule unibind_fetch_lengths:
    jobid: 6
    input: resources/data/unibind/make_targets.txt
    output: resources/data/unibind/target_lengths.txt
    log: workflow/logs/fetch_lengths.stdout, workflow/logs/fetch_lengths.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/9e211a826b4153ae8977fb2d94caf0a0_
    shell:
        
        coreapi get https://jaspar.elixir.no/api/v1/docs/
        readarray -t matrices < <(cut -d"." -f2-3 resources/data/unibind/make_targets.txt)
        for matrix in "${matrices[@]}";
        do
            echo $matrix
            coreapi action matrix read -p matrix_id=$matrix | jq '.pfm.A[]' | wc -l >> resources/data/unibind/target_lengths.txt
        done
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job unibind_fetch_lengths since they might be corrupted:
resources/data/unibind/target_lengths.txt
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-24T113330.661511.snakemake.log
