Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                      count
---------------------  -------
all                          1
unibind_fetch_lengths        1
unibind_make_targets         1
total                        3

Select jobs to execute...

[Sun Dec 24 11:06:03 2023]
Job 6: 
        Returns list of all matrix lengths from JASPAR API
        
Reason: Missing output files: resources/data/unibind/target_lengths.txt

RuleException in rule unibind_fetch_lengths in file /panfs/accrepfs.vampire/data/ruderferlab/projects/biovu/cnv/cre/CTCF-Variant-Annotation/snakemake/workflows/common/tfbs-activity/workflow/rules/unibind.smk, line 91:
NameError: The name 'matrices' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

        coreapi get https://jaspar.elixir.no/api/v1/docs/
        matrices=$(cut -d"." -f2-3 {input})
        for matrix in ${matrices[@]};
        do
            coreapi action matrix read -p matrix_id=$matrix | jq '.pfm.A[]' | wc -l >> {output}
        done
        
