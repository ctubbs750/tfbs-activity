Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                         count
------------------------  -------
all                             1
unibind_download_unibind        1
unibind_flatten_dir             1
unibind_unpack_unibind          1
total                           4

Select jobs to execute...

[Sun Dec 24 09:36:31 2023]
Job 3: 
        Downloads all DAMOS from UniBind database
        
Reason: Missing output files: resources/data/unibind/damo_hg39_all_TFBS.tar.gz

[Sun Dec 24 09:37:22 2023]
Finished job 3.
1 of 4 steps (25%) done
Select jobs to execute...

[Sun Dec 24 09:37:22 2023]
Job 2: 
        Unpacks UniBind data download
        
Reason: Missing output files: resources/data/unibind/damo_hg38_all_TFBS_unpacked; Input files updated by another job: resources/data/unibind/damo_hg39_all_TFBS.tar.gz

[Sun Dec 24 09:42:54 2023]
Finished job 2.
2 of 4 steps (50%) done
Removing temporary output resources/data/unibind/damo_hg39_all_TFBS.tar.gz.
Select jobs to execute...

[Sun Dec 24 09:42:54 2023]
Job 1: 
        Flattens unpacked tarbell. Not great - for the moment just check for creation of first in OP.
        Also removes all the empty dirs.
        
Reason: Missing output files: resources/data/unibind/damo_hg38_all_TFBS_unpacked_flat; Input files updated by another job: resources/data/unibind/damo_hg38_all_TFBS_unpacked; Code has changed since last execution

[Sun Dec 24 09:44:08 2023]
Error in rule unibind_flatten_dir:
    jobid: 1
    input: resources/data/unibind/damo_hg38_all_TFBS_unpacked
    output: resources/data/unibind/damo_hg38_all_TFBS_unpacked_flat
    shell:
        
        mkdir resources/data/unibind/damo_hg38_all_TFBS_unpacked_flat &&
        find resources/data/unibind/damo_hg38_all_TFBS_unpacked -mindepth 2 -type f -exec mv -t resources/data/unibind/damo_hg38_all_TFBS_unpacked_flat -i '{}' + &&
        find resources/data/unibind/damo_hg38_all_TFBS_unpacked -type d -empty -delete
        rmdir resources/data/unibind/damo_hg38_all_TFBS_unpacked
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job unibind_flatten_dir since they might be corrupted:
resources/data/unibind/damo_hg38_all_TFBS_unpacked_flat
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-24T093629.865528.snakemake.log
